tmake_file_extra_parts.patch

From: Christian Prochaska <christian.prochaska@genode-labs.com>


---
 gcc/config.gcc     |    4 ++--
 libgcc/config.host |    8 ++++----
 2 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/gcc/config.gcc b/gcc/config.gcc
index 7282a68..157d8dc 100644
--- a/gcc/config.gcc
+++ b/gcc/config.gcc
@@ -204,7 +204,7 @@
 
 out_file=
 common_out_file=
-tmake_file=
+#tmake_file=
 extra_headers=
 user_headers_inc_next_pre=
 user_headers_inc_next_post=
@@ -910,7 +910,7 @@ arm*-*-eabi* | arm*-*-symbianelf* | arm*-*-rtems*)
 	need_64bit_hwint=yes
 	default_use_cxa_atexit=yes
 	tm_file="dbxelf.h elfos.h arm/unknown-elf.h arm/elf.h arm/bpabi.h"
-	tmake_file="arm/t-arm arm/t-arm-elf"
+	tmake_file="${tmake_file} arm/t-arm arm/t-arm-elf"
 	case ${target} in
 	arm*-*-eabi*)
 	  tm_file="$tm_file newlib-stdint.h"
diff --git a/libgcc/config.host b/libgcc/config.host
index 66b4724..6fc96f9 100644
--- a/libgcc/config.host
+++ b/libgcc/config.host
@@ -69,8 +69,8 @@
 
 asm_hidden_op=.hidden
 enable_execute_stack=
-extra_parts=
-tmake_file=
+#extra_parts=
+#tmake_file=
 tm_file=
 tm_define=
 md_unwind_header=no-unwind.h
@@ -261,7 +261,7 @@ case ${host} in
   tmake_file=t-vxworks
   ;;
 *-*-elf)
-  extra_parts="crtbegin.o crtend.o"
+  #extra_parts="crtbegin.o crtend.o"
   ;;
 esac
 
@@ -364,7 +364,7 @@ arm*-*-eabi* | arm*-*-symbianelf* | arm*-*-rtems*)
 	case ${host} in
 	arm*-*-eabi* | arm*-*-rtems*)
 	  tmake_file="${tmake_file} arm/t-bpabi"
-	  extra_parts="crtbegin.o crtend.o crti.o crtn.o"
+	  #extra_parts="crtbegin.o crtend.o crti.o crtn.o"
 	  ;;
 	arm*-*-symbianelf*)
 	  tmake_file="${tmake_file} arm/t-symbian t-slibgcc-nolc-override"
