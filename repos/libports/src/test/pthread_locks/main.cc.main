/*
 * \brief  POSIX thread and semaphore test
 * \author Christian Prochaska
 * \date   2012-04-04
 */

/*
 * Copyright (C) 2012-2017 Genode Labs GmbH
 *
 * This file is part of the Genode OS framework, which is distributed
 * under the terms of the GNU Affero General Public License version 3.
 */

#include <pthread.h>
#include <stdio.h>

static pthread_mutex_t mutex;

void *run(void *)
{
	for (;;) {
		pthread_mutex_lock(&mutex);
		printf("t\n");
		pthread_mutex_unlock(&mutex);
	}
}

int main(int argc, char **argv)
{
	pthread_t p;

	pthread_create(&p, 0, run, 0);

	for (;;) {
		printf("m\n");
	}
}
